# Assignment 1: Changes & Justifications

This document details the key changes made during the implementation of Assignment 1 compared to the original plan in `week-long-project.md`.

### Summary of Key Changes

| Feature         | Original Plan                               | Actual Implementation                                                               | Justification & Error Avoided                                                                                                                                                             |
| --------------- | ------------------------------------------- | ----------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Veth Names**      | Long, descriptive names (e.g., `veth-nginx`) | Short, abbreviated names (e.g., `veth-lb`)                                           | **Error Avoided:** The Linux kernel limits network interface names to 15 characters. The original names (e.g., `veth-product-service`) would have exceeded this limit, causing the `ip link add` command to fail with a `name not a valid ifname` error and halting the entire setup. |
| **Script Design**   | A series of manual commands                 | An idempotent shell script with `cleanup` and `setup` functions.                      | **Justification:** An idempotent script can be run multiple times without causing errors or creating duplicate resources. The `cleanup` function ensures a clean slate, which is essential for reliable testing and development. The manual approach was prone to errors from leftover resources from previous runs. |
| **Subnet Size**     | `/16` (65,534 IPs)                          | `/24` (254 IPs)                                                                     | **Justification:** This is a networking best practice. A `/24` subnet is more than sufficient for the number of services and prevents wasting a large IP address space. It makes the network easier to reason about and manage. |
| **DNS**             | Not addressed                               | A temporary `resolv.conf` with a public DNS server (`8.8.8.8`) is created for each namespace during verification. | **Error Avoided:** Without this, any attempt to access the internet by domain name (e.g., `ping google.com`) would fail with a `Temporary failure in name resolution` error, as the namespaces would have no way to resolve domain names to IP addresses. |
| **Port Forwarding** | Included in the plan                        | Not implemented in the script                                                       | **Justification:** This feature was likely deferred to a later assignment to focus on getting the core network foundation correct first. It is not an error, but a change in priority. |
| **Bridge Name**     | `br-app`                                    | `br0`                                                                               | **Justification:** A minor aesthetic change for brevity and to align with common Linux conventions (e.g., `br0`, `eth0`). This had no functional impact. |
